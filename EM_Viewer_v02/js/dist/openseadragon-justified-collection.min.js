!function(i){"use strict";if(!i.version||i.version.major<2)throw new Error("This version of OpenSeadragonImagefilters requires OpenSeadragon version 2.0.0+");i.World.prototype.arrange=function(t){return this.justifiedCollectionInstance&&!t||(t=t||{},t.viewer=this,this.justifiedCollectionInstance=new i.justifiedCollection(t)),this.justifiedCollectionInstance},i.justifiedCollection=function(t){i.extend(!0,this,{columns:t.columns||0,tileMargin:t.tileMargin||80,tileSize:t.tileSize||800,showLastRow:t.showLastRow||!0},t);for(var s=new i.Row(this),e=0;e<this.viewer._items.length;e++){var h=this.viewer._items[e];s.addTileSource(h)}this.showLastRow===!0&&s.draw()},i.Row=function(t){i.extend(!0,this,t),this.ready=!1,this.images=[],this.height=1,this.totalWidth=0,this.firstRow=!0,this.rowWidth=0,this.line=0,this.draw=function(){var i=0;this.images.map(function(t){t.setHeight(this.height,!0),t.setPosition({x:i,y:this.line});var s=t.getBounds();i=i+s.width+this.tileMargin/this.tileSize*this.height},this),this.line+=this.height+this.tileMargin/this.tileSize,this.ready=!1,this.images=[],this.rowWidth=0},this.addTileSource=function(i){if(this.isReady())throw"Can't add tilesource to ready row!";i.setHeight(1,!0);var t=i.getBounds();return this.images.push(i),this.rowWidth=this.rowWidth+t.width+this.tileMargin/this.tileSize,this.firstRow===!0&&this.images.length===this.columns?(this.totalWidth=this.rowWidth,this.firstRow=!1,this.ready=!0,void this.draw()):void(this.firstRow===!1&&this.rowWidth>=this.totalWidth&&(this.height=parseFloat(this.totalWidth/this.rowWidth),this.ready=!0,this.draw()))},this.isReady=function(){return this.ready}}}(OpenSeadragon);
//# sourceMappingURL=openseadragon-justified-collection.min.js.map
